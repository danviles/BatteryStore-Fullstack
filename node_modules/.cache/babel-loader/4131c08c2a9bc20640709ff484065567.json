{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rhoudax\\\\Documents\\\\GCO\\\\p2\\\\E08\\\\src\\\\components\\\\baterias\\\\FormularioBaterias.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState, useEffect } from 'react';\nimport BateriaContext from '../../context/baterias/bateriaContext';\nimport AlertaContext from '../../context/alertas/alertaContext';\nimport NullImg from '../../images/subir-imagen.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FormularioBaterias = () => {\n  _s();\n\n  const alertaContext = useContext(AlertaContext);\n  const {\n    alerta,\n    mostrarAlerta\n  } = alertaContext;\n  const bateriaContext = useContext(BateriaContext);\n  const {\n    bateriaactual,\n    imagenesbaterias,\n    agregarBateria,\n    editarBateria,\n    obtenerBaterias\n  } = bateriaContext;\n  const [bateria, setBateria] = useState({\n    img: '',\n    marca: '',\n    estado: '',\n    voltaje: '',\n    amperios: '',\n    precio: ''\n  });\n  const {\n    img,\n    marca,\n    estado,\n    voltaje,\n    amperios,\n    precio\n  } = bateria;\n  useEffect(() => {\n    if (bateriaactual) {\n      const [bateria] = bateriaactual;\n      setBateria(bateria);\n    } else {\n      setBateria({\n        img: '',\n        marca: '',\n        estado: '',\n        voltaje: '',\n        amperios: '',\n        precio: ''\n      });\n    }\n  }, [bateriaactual]);\n\n  const onChange = e => {\n    if (e.target.name === 'marca') {\n      setBateria({ ...bateria,\n        [e.target.name]: e.target.value,\n        img: imagenesbaterias[e.target.value]\n      });\n    } else {\n      setBateria({ ...bateria,\n        [e.target.name]: e.target.value\n      });\n    }\n  };\n\n  const onSubmitBateria = e => {\n    e.preventDefault(); // validaciones\n\n    if (marca.trim() === '' || estado.trim() === '' || voltaje === '' || amperios === '' || precio === '') {\n      mostrarAlerta('Todos los campos son obligatorios', 'alerta-error');\n      return;\n    } // Agregar o actualizar\n\n\n    if (!bateriaactual) {\n      // Agregar tarea\n      // tarea.proyectoId = proyecto.id;\n      // tarea.estado = false;\n      // tarea.id = uuid()\n      // agregarTarea(tarea);\n      agregarBateria(bateria);\n    } else {\n      editarBateria(bateria);\n    } //obtenerBaterias()\n    // limpiar campos\n\n\n    setBateria({\n      img: '',\n      marca: '',\n      estado: '',\n      voltaje: '',\n      amperios: '',\n      precio: ''\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-publicar rounded border border-dark mt-5 mb-5\",\n    children: [alerta ? /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"alerta\",\n      className: `alerta ${alerta.categoria}`,\n      children: [\" \", alerta.msg, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 24\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmitBateria,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"mb-2\",\n          src: bateria.img ? bateria.img : NullImg,\n          width: \"100\",\n          height: \"100\",\n          alt: \"Null Img\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"select\",\n              children: \"Marca\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              \"data-testid\": \"marca\",\n              className: \"form-select\",\n              name: \"marca\",\n              defaultValue: marca,\n              onChange: onChange,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                selected: true,\n                disabled: true,\n                hidden: true,\n                children: \"Seleciona una marca\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"yuasa\",\n                children: \"Yuasa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"bosch\",\n                children: \"Bosch\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"innpo\",\n                children: \"Innpo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"norauto\",\n                children: \"Norauto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"exide\",\n                children: \"Exide\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"tudor\",\n                children: \"Tudor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"varta\",\n                children: \"Varta\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"select\",\n              children: \"Estado de la bater\\xEDa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              \"data-testid\": \"estado\",\n              className: \"form-select\",\n              name: \"estado\",\n              value: estado,\n              defaultValue: estado,\n              onChange: onChange,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                selected: true,\n                disabled: true,\n                hidden: true,\n                children: \"Seleciona un estado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"nuevo\",\n                children: \"Nueva\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"buen-estado\",\n                children: \"Buen estado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"condiciones-aceptables\",\n                children: \"Condiciones aceptables\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"voltaje\",\n              children: \"Voltaje\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"form-control\",\n              id: \"voltaje\",\n              name: \"voltaje\",\n              placeholder: \"Voltaje de la bater\\xEDa\",\n              min: \"0\",\n              value: voltaje,\n              onChange: onChange,\n              \"data-testid\": \"voltaje\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"amperios\",\n              children: \"Amperios\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"form-control\",\n              id: \"amperios\",\n              name: \"amperios\",\n              placeholder: \"Amperios de la bater\\xEDa\",\n              min: \"0\",\n              value: amperios,\n              onChange: onChange,\n              \"data-testid\": \"amperios\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"precio\",\n              children: \"Precio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"form-control\",\n              id: \"precio\",\n              name: \"precio\",\n              placeholder: \"Precio de la bater\\xEDa\",\n              min: \"0\",\n              value: precio,\n              onChange: onChange,\n              \"data-testid\": \"precio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 mb-2\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          className: \"btn botones\",\n          value: bateriaactual ? 'Editar' : 'Publicar',\n          \"data-testid\": \"botonBateria\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FormularioBaterias, \"itvXZtRoDSudocMwcGJs7vZGVnU=\");\n\n_c = FormularioBaterias;\nexport default FormularioBaterias;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormularioBaterias\");","map":{"version":3,"sources":["C:/Users/Rhoudax/Documents/GCO/p2/E08/src/components/baterias/FormularioBaterias.js"],"names":["React","useContext","useState","useEffect","BateriaContext","AlertaContext","NullImg","FormularioBaterias","alertaContext","alerta","mostrarAlerta","bateriaContext","bateriaactual","imagenesbaterias","agregarBateria","editarBateria","obtenerBaterias","bateria","setBateria","img","marca","estado","voltaje","amperios","precio","onChange","e","target","name","value","onSubmitBateria","preventDefault","trim","categoria","msg"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\r\nimport BateriaContext from '../../context/baterias/bateriaContext';\r\nimport AlertaContext from '../../context/alertas/alertaContext';\r\nimport NullImg from '../../images/subir-imagen.png';\r\n\r\nconst FormularioBaterias = () => {\r\n\r\n    const alertaContext = useContext(AlertaContext);\r\n    const { alerta, mostrarAlerta } = alertaContext\r\n\r\n    const bateriaContext = useContext(BateriaContext);\r\n    const { bateriaactual, imagenesbaterias, agregarBateria, editarBateria, obtenerBaterias } = bateriaContext\r\n\r\n\r\n\r\n    const [bateria, setBateria] = useState({\r\n        img: '',\r\n        marca: '',\r\n        estado: '',\r\n        voltaje: '',\r\n        amperios: '',\r\n        precio: ''\r\n    })\r\n\r\n    const { img, marca, estado, voltaje, amperios, precio } = bateria;\r\n\r\n    useEffect(() => {\r\n        if (bateriaactual) {\r\n            const [bateria] = bateriaactual\r\n            setBateria(bateria)\r\n        } else {\r\n            setBateria({\r\n                img: '',\r\n                marca: '',\r\n                estado: '',\r\n                voltaje: '',\r\n                amperios: '',\r\n                precio: ''\r\n            })\r\n        }\r\n    }, [bateriaactual]);\r\n\r\n\r\n    const onChange = e => {\r\n\r\n        if (e.target.name === 'marca') {\r\n            setBateria({\r\n                ...bateria,\r\n                [e.target.name]: e.target.value,\r\n                img : imagenesbaterias[e.target.value]\r\n            })\r\n        } else {\r\n            setBateria({\r\n                ...bateria,\r\n                [e.target.name]: e.target.value\r\n            })\r\n        }\r\n    }\r\n\r\n    const onSubmitBateria = ((e) => {\r\n        e.preventDefault();\r\n        // validaciones\r\n\r\n        if (marca.trim() === '' || estado.trim() === '' || voltaje === '' || amperios === '' || precio === '') {\r\n            mostrarAlerta('Todos los campos son obligatorios', 'alerta-error');\r\n            return;\r\n        }\r\n\r\n        // Agregar o actualizar\r\n\r\n        if (!bateriaactual) {\r\n\r\n            // Agregar tarea\r\n            // tarea.proyectoId = proyecto.id;\r\n            // tarea.estado = false;\r\n            // tarea.id = uuid()\r\n            // agregarTarea(tarea);\r\n            agregarBateria(bateria);\r\n\r\n        } else {\r\n            editarBateria(bateria);\r\n\r\n        }\r\n\r\n        //obtenerBaterias()\r\n        // limpiar campos\r\n\r\n        setBateria({\r\n            img: '',\r\n            marca: '',\r\n            estado: '',\r\n            voltaje: '',\r\n            amperios: '',\r\n            precio: ''\r\n        })\r\n    });\r\n\r\n\r\n    return (\r\n        <div className=\"container-publicar rounded border border-dark mt-5 mb-5\">\r\n            {alerta ? (<div data-testid='alerta' className={`alerta ${alerta.categoria}`}> {alerta.msg} </div>) : null}\r\n            <form onSubmit={onSubmitBateria}>\r\n                <div className=\"\">\r\n\r\n                    <img className=\"mb-2\" src={bateria.img ? bateria.img : NullImg} width=\"100\" height=\"100\" alt=\"Null Img\" />\r\n                </div>\r\n                <hr />\r\n                <div className=\"row\">\r\n                    <div className=\"col\">\r\n                        <div className=\"mt-2 mb-2\">\r\n                            <label htmlFor=\"select\">Marca</label>\r\n                            <select data-testid='marca'className=\"form-select\" name=\"marca\"  defaultValue={marca} onChange={onChange}>\r\n                                <option value=\"\" selected disabled hidden>Seleciona una marca</option>\r\n                                <option value=\"yuasa\">Yuasa</option>\r\n                                <option value=\"bosch\">Bosch</option>\r\n                                <option value=\"innpo\">Innpo</option>\r\n                                <option value=\"norauto\">Norauto</option>\r\n                                <option value=\"exide\">Exide</option>\r\n                                <option value=\"tudor\">Tudor</option>\r\n                                <option value=\"varta\">Varta</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                        <div className=\"mt-2 mb-2\">\r\n                            <label htmlFor=\"select\">Estado de la batería</label>\r\n                            <select data-testid='estado' className=\"form-select\" name=\"estado\" value={estado} defaultValue={estado} onChange={onChange}>\r\n                                <option value=\"\" selected disabled hidden>Seleciona un estado</option>\r\n                                <option value=\"nuevo\">Nueva</option>\r\n                                <option value=\"buen-estado\">Buen estado</option>\r\n                                <option value=\"condiciones-aceptables\">Condiciones aceptables</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <div className=\"col\">\r\n                        <div className=\"mt-2 mb-2\">\r\n                            <label htmlFor=\"voltaje\">Voltaje</label>\r\n                            <input\r\n                                type=\"number\"\r\n                                className=\"form-control\"\r\n                                id=\"voltaje\"\r\n                                name=\"voltaje\"\r\n                                placeholder=\"Voltaje de la batería\"\r\n                                min='0'\r\n                                value={voltaje}\r\n                                onChange={onChange}\r\n                                data-testid='voltaje'\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                        <div className=\"mt-2 mb-2\">\r\n                            <label htmlFor=\"amperios\">Amperios</label>\r\n                            <input\r\n                                type=\"number\"\r\n                                className=\"form-control\"\r\n                                id=\"amperios\"\r\n                                name=\"amperios\"\r\n                                placeholder=\"Amperios de la batería\"\r\n                                min='0'\r\n                                value={amperios}\r\n                                onChange={onChange}\r\n                                data-testid='amperios'\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                        <div className=\"mt-2 mb-2\">\r\n                            <label htmlFor=\"precio\">Precio</label>\r\n                            <input\r\n                                type=\"number\"\r\n                                className=\"form-control\"\r\n                                id=\"precio\"\r\n                                name=\"precio\"\r\n                                placeholder=\"Precio de la batería\"\r\n                                min='0'\r\n                                value={precio}\r\n                                onChange={onChange}\r\n                                data-testid='precio'\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"mt-2 mb-2\">\r\n                    <input\r\n                        type=\"submit\"\r\n                        className=\"btn botones\"\r\n                        value={bateriaactual ? 'Editar' : 'Publicar'}\r\n                        data-testid='botonBateria'\r\n                    />\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FormularioBaterias;"]},"metadata":{},"sourceType":"module"}