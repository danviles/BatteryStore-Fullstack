{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rhoudax\\\\Documents\\\\GCO\\\\p2\\\\E08\\\\src\\\\components\\\\auth\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport AlertaContext from '../../context/alertas/alertaContext';\nimport AuthContext from '../../context/autenticacion/authContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  // extraer los valores del context\n  const alertaContext = useContext(AlertaContext);\n  const {\n    alerta,\n    mostrarAlerta\n  } = alertaContext;\n  const authContext = useContext(AuthContext);\n  const {\n    mensaje,\n    autenticado,\n    iniciarSesion\n  } = authContext;\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (autenticado) {\n      navigate('/');\n    }\n\n    if (mensaje) {\n      mostrarAlerta(mensaje.msg, mensaje.categoria);\n    }\n  }, [mensaje, autenticado, navigate]);\n  const [usuario, guardarUsuario] = useState({\n    email: '',\n    password: ''\n  });\n\n  const onChange = e => {\n    guardarUsuario({ ...usuario,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const {\n    email,\n    password\n  } = usuario;\n\n  const onSubmit = e => {\n    e.preventDefault(); // Validar que no haya campos vacios\n\n    if (email.trim() === '' || password.trim() === '') {\n      mostrarAlerta('Todos los campos son obligatorios', 'alerta-error');\n    } // Pasarlo al action\n\n\n    iniciarSesion({\n      email,\n      password\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-login\",\n    children: [alerta ? /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"alerta\",\n      className: `alerta ${alerta.categoria}`,\n      children: [\" \", alerta.msg, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 26\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"h1\", {\n      \"data-testid\": \"titulo\",\n      children: \"Iniciar Sesi\\xF3n\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3 mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          className: \"form-label\",\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          className: \"form-control\",\n          id: \"email\",\n          name: \"email\",\n          value: email,\n          onChange: onChange,\n          \"data-testid\": \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3 mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          className: \"form-label\",\n          children: \"Contrase\\xF1a:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"form-control\",\n          id: \"password\",\n          name: \"password\",\n          value: password,\n          onChange: onChange,\n          \"data-testid\": \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"campo-form d-grid\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          className: \"btn botones mb-2\",\n          value: \"Iniciar Sesi\\xF3n\",\n          \"data-testid\": \"botonSubmit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: '/nueva-cuenta',\n      className: \"enlace-cuenta\",\n      children: \"Reg\\xEDstrate\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"NtwMk5rnUVLZIgtjXk5HoBE1GoQ=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/Rhoudax/Documents/GCO/p2/E08/src/components/auth/Login.js"],"names":["React","useState","useContext","useEffect","Link","useNavigate","AlertaContext","AuthContext","Login","alertaContext","alerta","mostrarAlerta","authContext","mensaje","autenticado","iniciarSesion","navigate","msg","categoria","usuario","guardarUsuario","email","password","onChange","e","target","name","value","onSubmit","preventDefault","trim"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport AlertaContext from '../../context/alertas/alertaContext';\r\nimport AuthContext from '../../context/autenticacion/authContext';\r\n\r\n\r\nconst Login = () => {\r\n\r\n    // extraer los valores del context\r\n    const alertaContext = useContext(AlertaContext);\r\n    const { alerta, mostrarAlerta } = alertaContext;\r\n\r\n    const authContext = useContext(AuthContext);\r\n    const { mensaje, autenticado, iniciarSesion } = authContext;\r\n\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n\r\n        if (autenticado) {\r\n            navigate('/');\r\n        }\r\n\r\n        if (mensaje) {\r\n            mostrarAlerta(mensaje.msg, mensaje.categoria);\r\n        }\r\n    \r\n    }, [mensaje, autenticado, navigate]);\r\n\r\n    const [usuario, guardarUsuario] = useState({\r\n        email: '',\r\n        password: ''\r\n    });\r\n\r\n    const onChange = e => {\r\n        guardarUsuario({\r\n            ...usuario,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    const { email, password } = usuario;\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        // Validar que no haya campos vacios\r\n        if(email.trim() === '' || password.trim() === '') {\r\n            mostrarAlerta('Todos los campos son obligatorios', 'alerta-error');\r\n        }\r\n\r\n        // Pasarlo al action\r\n        iniciarSesion({ email, password });\r\n    }\r\n\r\n    return (\r\n        <div className=\"container-login\">\r\n            { alerta ? ( <div data-testid='alerta' className={`alerta ${alerta.categoria}`}> {alerta.msg} </div> )  : null }\r\n\r\n\r\n            <h1 data-testid='titulo'>Iniciar Sesión</h1>\r\n\r\n            <form\r\n                onSubmit={onSubmit}\r\n            >\r\n                <div className=\"mb-3 mt-3\">\r\n                    <label htmlFor=\"email\" className=\"form-label\">Email:</label>\r\n                    <input\r\n                        type=\"email\"\r\n                        className=\"form-control\"\r\n                        id=\"email\"\r\n                        name=\"email\"\r\n                        value={email}\r\n                        onChange={onChange}\r\n                        data-testid='email'\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"mb-3 mt-3\">\r\n                    <label htmlFor=\"password\" className=\"form-label\">Contraseña:</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        className=\"form-control\"\r\n                        id=\"password\"\r\n                        name=\"password\"\r\n                        value={password}\r\n                        onChange={onChange}\r\n                        data-testid='password'\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"campo-form d-grid\">\r\n                    <input type=\"submit\" className=\"btn botones mb-2\" value=\"Iniciar Sesión\" data-testid='botonSubmit'/>\r\n                </div>\r\n            </form>\r\n\r\n            <Link to={'/nueva-cuenta'} className=\"enlace-cuenta\">\r\n                Regístrate\r\n            </Link>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}